<md-dialog aria-label="Create block" flex="80" flex-gt-sm="35">
    <form ng-submit="ctrl.done()">
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>Create block</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="ctrl.cancel()">
                    <md-icon aria-label="Close dialog">
                        <ng-md-icon icon="close"></ng-md-icon>
                    </md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-dialog-content>
            <div class="md-dialog-content">
                <h1 class="md-title">Pick a type:</h1>
                <md-input-container>
                    <label>Type</label>
                    <md-select ng-model="ctrl.block.type">
                        <md-option ng-repeat="block in ctrl.blocks" value="{{block.type}}">
                            {{block.name}}
                        </md-option>
                    </md-select>
                </md-input-container>
                <md-content class="autoScroll" ng-if="ctrl.block.type=='text'">
                    <h1 class="md-title">Enter text</h1>
                    <md-input-container md-no-float class="md-block">
                        <textarea ng-model="ctrl.block.text" placeholder="Some text"></textarea>
                    </md-input-container>
                    <md-checkbox ng-model="ctrl.block.markdown" aria-label="markdown">
                        Use <i>Markdown</i> styles
                    </md-checkbox>
                </md-content>
                <md-content class="autoScroll" ng-if="ctrl.block.type=='img'">
                    <h1 class="md-title">Enter image url</h1>
                    <md-input-container md-no-float class="md-block">
                        <input type="text" ng-model="ctrl.block.imgUrl" placeholder="Some URL">
                    </md-input-container>
                    <md-switch ng-model="ctrl.chooseImg" aria-label="choose media library" ng-change="ctrl.loadData()">
                        Choose in media library
                    </md-switch>
                    <md-content ng-if="ctrl.chooseImg">
                        <media-library user="ctrl.user" click-fun="ctrl.addLink"></media-library>
                    </md-content>
                    <h1 class="md-title">Enter image description</h1>
                    <md-input-container md-no-float class="md-block">
                        <input type="text" ng-model="ctrl.block.description" placeholder="Description">
                    </md-input-container>
                </md-content>
                <md-content class="autoScroll" ng-if="ctrl.block.type=='video'">
                    <h1 class="md-title">Enter video url</h1>
                    <md-input-container md-no-float class="md-block">
                        <input type="text" ng-model="ctrl.block.videoUrl" placeholder="Some URL">
                    </md-input-container>
                </md-content>
            </div>
        </md-dialog-content>
        <md-dialog-actions layout="row">
            <span flex></span>
            <md-button ng-click="ctrl.cancel()">
                Cancel
            </md-button>
            <md-button type="submit" class="md-primary md-raised">
                Save
            </md-button>
        </md-dialog-actions>
    </form>
</md-dialog>